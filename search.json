[{"path":"https://bellwetherorg.github.io/edfinr/articles/basic-usage.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Basic usage of edfinr","text":"edfinr package provides simple, consistent interface accessing comprehensive education finance data U.S. school districts. vignette help get started package’s core functionality.","code":"library(edfinr) library(tidyverse)"},{"path":"https://bellwetherorg.github.io/edfinr/articles/basic-usage.html","id":"core-function-get_finance_data","dir":"Articles","previous_headings":"","what":"Core Function: get_finance_data()","title":"Basic usage of edfinr","text":"primary function edfinr get_finance_data(), provides access comprehensive school finance data school years 2011-12 2021-22. function combines data multiple sources: Financial data: Revenue expenditure data National Center Education Statistics (NCES) version F-33 survey. Enrollment: Student counts NCES Common Core Data. Demographics: Poverty estimates U.S. Census Bureau Small Area Income Poverty Estimates (SAIPE). Community characteristics: Income education data American Community Survey (ACS). Inflation adjustments: Consumer Price Index Urban Consumers (CPI-U) data constant dollar calculations.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/basic-usage.html","id":"basic-usage","dir":"Articles","previous_headings":"","what":"Basic Usage","title":"Basic usage of edfinr","text":"simplest way use get_finance_data() specify year state. example, get finance data Kentucky school districts 2015-16 school year:","code":"# download \"skinny\" dataset for a single year and a single staet ky_sy16 <- get_finance_data(yr = 2016, geo = \"KY\")  # view the structure of the returned data glimpse(ky_sy16) ## Rows: 173 ## Columns: 41 ## $ ncesid          <chr> \"2100030\", \"2100070\", \"2100081\", \"2100090\", \"2100120\",… ## $ year            <chr> \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\"… ## $ state           <chr> \"KY\", \"KY\", \"KY\", \"KY\", \"KY\", \"KY\", \"KY\", \"KY\", \"KY\", … ## $ dist_name       <chr> \"Adair County\", \"Allen County\", \"Muhlenberg County\", \"… ## $ enroll          <dbl> 2689, 3071, 5023, 363, 3811, 3265, 273, 1371, 718, 277… ## $ rev_total_pp    <dbl> 10622.908, 9635.949, 11004.977, 20374.656, 9874.574, 1… ## $ rev_local_pp    <dbl> 1922.276, 1924.129, 3204.260, 14935.863, 3189.452, 270… ## $ rev_state_pp    <dbl> 7046.858, 6523.608, 6721.481, 5081.578, 5700.866, 6064… ## $ rev_fed_pp      <dbl> 1653.7746, 1188.2123, 1079.2355, 357.2145, 984.2561, 1… ## $ rev_total       <dbl> 28565000, 29592000, 55278000, 7396000, 37632000, 34758… ## $ rev_local       <dbl> 5169000.0, 5909000.0, 16095000.0, 5421718.4, 12155000.… ## $ rev_state       <dbl> 18949000, 20034000, 33762000, 1844613, 21726000, 19799… ## $ rev_fed         <dbl> 4447000.0, 3649000.0, 5421000.0, 129668.9, 3751000.0, … ## $ rev_total_unadj <dbl> 30303000, 31613000, 58033000, 7621000, 38072000, 36802… ## $ rev_local_unadj <dbl> 5169000, 6166000, 16125000, 5561000, 12156000, 8970000… ## $ rev_state_unadj <dbl> 20687000, 21798000, 36487000, 1927000, 22165000, 21685… ## $ rev_fed_unadj   <dbl> 4447000, 3649000, 5421000, 133000, 3751000, 6147000, 3… ## $ exp_cur_pp      <dbl> 9461.510, 8820.580, 9074.457, 18002.755, 8372.343, 999… ## $ rev_exp_pp_diff <dbl> 1161.3983, 815.3696, 1930.5196, 2371.9008, 1502.2304, … ## $ exp_cur_st_loc  <dbl> 22888000, 25129000, 39656000, 6443000, 29720000, 28532… ## $ exp_cur_fed     <dbl> 2554000, 1959000, 5925000, 92000, 2187000, 4090000, 21… ## $ exp_cur_resa    <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA… ## $ exp_cur_total   <dbl> 25442000, 27088000, 45581000, 6535000, 31907000, 32622… ## $ cpi_sy12        <dbl> 1.047057, 1.047057, 1.047057, 1.047057, 1.047057, 1.04… ## $ mhi             <dbl> 33873, 41166, 40445, 162188, 53513, 39526, 34871, 4392… ## $ mpv             <dbl> 86100, 98200, 81400, 604100, 136300, 96500, 107300, 10… ## $ adult_pop       <dbl> 12753, 13827, 21649, 1372, 14970, 14736, 902, 5766, 17… ## $ ba_plus_pop     <dbl> 2103, 1885, 2627, 1133, 2835, 3419, 158, 880, 478, 139… ## $ ba_plus_pct     <dbl> 0.16490238, 0.13632748, 0.12134510, 0.82580175, 0.1893… ## $ total_pop       <dbl> 19280, 20631, 31028, 2531, 22158, 21143, 1423, 8054, 3… ## $ student_pop     <dbl> 2928, 3633, 4768, 433, 3937, 3253, 249, 1340, 434, 239… ## $ stpov_pop       <dbl> 967, 905, 1130, 23, 536, 894, 81, 287, 154, 530, 1288,… ## $ stpov_pct       <dbl> 0.33025956, 0.24910542, 0.23699664, 0.05311778, 0.1361… ## $ cong_dist       <int> 2101, 2101, 2101, 2103, 2106, 2104, 2104, 2101, 2105, … ## $ state_leaid     <chr> \"KY-001001000\", \"KY-002005000\", \"KY-089445000\", \"KY-05… ## $ county          <chr> \"Adair County\", \"Allen County\", \"Muhlenberg County\", \"… ## $ cbsa            <chr> \"N\", \"14540\", \"N\", \"31140\", \"23180\", \"26580\", \"17140\",… ## $ urbanicity      <fct> Town, Rural, Rural, Suburb, Town, City, Rural, Rural, … ## $ schlev          <chr> \"03\", \"03\", \"03\", \"01\", \"03\", \"03\", \"03\", \"03\", \"03\", … ## $ lea_type        <fct> Regular public school district that is not a component… ## $ lea_type_id     <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …"},{"path":"https://bellwetherorg.github.io/edfinr/articles/basic-usage.html","id":"dataset-types-skinny-vs--full","dir":"Articles","previous_headings":"","what":"Dataset Types: Skinny vs. Full","title":"Basic usage of edfinr","text":"default, get_finance_data() returns “skinny” dataset 41 essential variables covering: - District identifiers characteristics. - Total revenues source (local, state, federal). - Current expenditures. - Key demographic economic indicators. detailed analysis, can request “full” dataset 89 variables includes: - skinny dataset variables. - Detailed expenditure data. - Data spending temporary pandemic-related federal funding.","code":"# download the full dataset with detailed expenditure data for a single year/state ky_full_sy16 <- get_finance_data(yr = \"2016\", geo = \"KY\", dataset_type = \"full\")  # view additional variables in \"full\" dataset names(ky_full_sy16)[42:89] ##  [1] \"exp_emp_salary\"             \"exp_emp_bene\"               ##  [3] \"exp_textbooks\"              \"exp_utilities\"              ##  [5] \"exp_tech_supp\"              \"exp_tech_equip\"             ##  [7] \"exp_pay_private_sch\"        \"exp_pay_charter_sch\"        ##  [9] \"exp_pay_other_lea\"          \"exp_other_sys_pay\"          ## [11] \"exp_instr_total\"            \"exp_instr_sal\"              ## [13] \"exp_instr_bene\"             \"exp_supp_stu_total\"         ## [15] \"exp_supp_stu_sal\"           \"exp_supp_stu_bene\"          ## [17] \"exp_supp_instr_total\"       \"exp_supp_instr_sal\"         ## [19] \"exp_supp_instr_bene\"        \"exp_supp_gen_admin_total\"   ## [21] \"exp_supp_gen_admin_sal\"     \"exp_supp_gen_admin_bene\"    ## [23] \"exp_supp_sch_admin_total\"   \"exp_supp_sch_admin_sal\"     ## [25] \"exp_supp_sch_admin_bene\"    \"exp_supp_ops_total\"         ## [27] \"exp_supp_ops_sal\"           \"exp_supp_ops_bene\"          ## [29] \"exp_supp_trans_total\"       \"exp_supp_trans_sal\"         ## [31] \"exp_supp_trans_bene\"        \"exp_central_serv_total\"     ## [33] \"exp_central_serv_sal\"       \"exp_central_serv_bene\"      ## [35] \"exp_noninstr_food_total\"    \"exp_noninstr_food_sal\"      ## [37] \"exp_noninstr_food_bene\"     \"exp_noninstr_ent_ops_total\" ## [39] \"exp_noninstr_ent_ops_bene\"  \"exp_noninstr_other\"         ## [41] \"exp_covid_total\"            \"exp_covid_instr\"            ## [43] \"exp_covid_supp\"             \"exp_covid_cap_out\"          ## [45] \"exp_covid_tech_supp\"        \"exp_covid_tech_equip\"       ## [47] \"exp_covid_supp_plant\"       \"exp_covid_food\""},{"path":"https://bellwetherorg.github.io/edfinr/articles/basic-usage.html","id":"multiple-years-and-states","dir":"Articles","previous_headings":"","what":"Multiple Years and States","title":"Basic usage of edfinr","text":"get_finance_data() function makes easy access data across multiple years states:","code":"# get data for multiple states across multiple years sec_data <- get_finance_data(   yr = \"2018:2022\",  # years 2018 through 2022   geo = \"AL,AR,FL,GA,KY,LA,MS,MO,OK,SC,TN,TX\"  # comma-separated state codes )  # get the most recent year of data for all states us_sy22 <- get_finance_data(yr = 2022, geo = \"all\")"},{"path":"https://bellwetherorg.github.io/edfinr/articles/basic-usage.html","id":"working-with-the-data","dir":"Articles","previous_headings":"","what":"Working with the Data","title":"Basic usage of edfinr","text":"’ve retrieved data, can use standard data manipulation tools analyze . common analysis patterns:","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/basic-usage.html","id":"analyze-local-vs--total-revenue-per-pupil","dir":"Articles","previous_headings":"Working with the Data","what":"Analyze Local vs. Total Revenue Per-Pupil","title":"Basic usage of edfinr","text":"","code":"# download 2022 data for connecticut ct_sy22 <- get_finance_data(yr = \"2022\", geo = \"CT\")  # plot local revenue vs. total revenue w/ urbanicity + enrollment ggplot(ct_sy22) +   geom_point(aes(     x = rev_local_pp,      y = rev_total_pp,     color = urbanicity,     size = enroll),     alpha = .6) +   scale_size_area(     max_size = 10,     labels = scales::label_comma()     ) +       scale_x_continuous(labels = scales::label_dollar()) +   scale_y_continuous(labels = scales::label_dollar()) +   labs(     title = \"Connecticut Districts' Local vs. Total Revenue Per-Pupil, SY2021-22\",     x = \"Local Revenue Per-Pupil\",      y = \"Total Revenue Per-Pupil\",      size = \"Enrollment\",      color = \"Urbanicity\") +   theme_bw()"},{"path":"https://bellwetherorg.github.io/edfinr/articles/basic-usage.html","id":"analyzing-revenue-sources-by-urbanicity","dir":"Articles","previous_headings":"Working with the Data","what":"Analyzing Revenue Sources by Urbanicity","title":"Basic usage of edfinr","text":"","code":"# compare revenue sources across districts revenue_analysis <- ct_sy22 |>   mutate(     pct_local = rev_local / rev_total,     pct_state = rev_state / rev_total,     pct_federal = rev_fed / rev_total   ) |>   select(dist_name, urbanicity, enroll, pct_local, pct_state, pct_federal) |>   group_by(urbanicity) |>   summarize(     avg_pct_local = mean(pct_local, na.rm = TRUE),     avg_pct_state = mean(pct_state, na.rm = TRUE),     avg_pct_federal = mean(pct_federal, na.rm = TRUE),     n_districts = n(),     enrollment = sum(enroll, na.rm = TRUE)   )  print(revenue_analysis) ## # A tibble: 4 × 6 ##   urbanicity avg_pct_local avg_pct_state avg_pct_federal n_districts enrollment ##   <fct>              <dbl>         <dbl>           <dbl>       <int>      <dbl> ## 1 City               0.250         0.608          0.143           29     126751 ## 2 Suburb             0.649         0.289          0.0623          85     285922 ## 3 Town               0.584         0.351          0.0649           8      14823 ## 4 Rural              0.649         0.303          0.0490          65      52477"},{"path":"https://bellwetherorg.github.io/edfinr/articles/basic-usage.html","id":"additional-resources","dir":"Articles","previous_headings":"","what":"Additional Resources","title":"Basic usage of edfinr","text":"information data methods used package: Use list_variables() see available variables descriptions. Use get_states() see valid state codes. See “CPI Adjustments” vignette information inflation adjustments. See “Data Sources Methods” vignette detailed methodology.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/cpi-adjustments.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Understanding CPI Adjustments in edfinr","text":"analyzing education finance data across multiple years, adjusting inflation can help produce meaningful comparisons. edfinr provides built-functionality adjust dollar-denominated values inflation using Consumer Price Index Urban Consumers (CPI-U).","code":"library(tidyverse) library(edfinr)"},{"path":"https://bellwetherorg.github.io/edfinr/articles/cpi-adjustments.html","id":"understanding-nominal-vs--real-dollars","dir":"Articles","previous_headings":"","what":"Understanding Nominal vs. Real Dollars","title":"Understanding CPI Adjustments in edfinr","text":"default, financial data returned get_finance_data() nominal dollars - actual dollar amounts reported year without inflation adjustment. means $1,000 2012 $1,000 2022 treated equal amounts, even though different purchasing power. make valid comparisons across years, need convert real dollars (also called constant dollars) adjusting inflation.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/cpi-adjustments.html","id":"how-cpi-adjustment-works","dir":"Articles","previous_headings":"","what":"How CPI Adjustment Works","title":"Understanding CPI Adjustments in edfinr","text":"edfinr uses CPI-U index adjust inflation. adjustment aligned school year calendar: second half first calendar year (July-December). first half second calendar year (January-June). example, 2021-22 school year CPI combines: - July-December 2021 (HALF2 2021). - January-June 2022 (HALF1 2022).","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/cpi-adjustments.html","id":"using-the-cpi_adj-parameter","dir":"Articles","previous_headings":"","what":"Using the cpi_adj Parameter","title":"Understanding CPI Adjustments in edfinr","text":"get_finance_data() function includes cpi_adj parameter automatically adjust dollar values:","code":"# Get nominal (unadjusted) data - this is the default nominal_data <- get_finance_data(yr = \"2015:2022\", geo = \"KY\")  # View the nominal revenue for a specific district nominal_data |>   filter(dist_name == \"Jefferson County\") |>   select(year, dist_name, rev_total, rev_total_pp) ## # A tibble: 8 × 4 ##   year  dist_name         rev_total rev_total_pp ##   <chr> <chr>                 <dbl>        <dbl> ## 1 2015  Jefferson County 1273807000       12662. ## 2 2016  Jefferson County 1305189000       12951. ## 3 2017  Jefferson County 1330902000       13334. ## 4 2018  Jefferson County 1456303000       14740. ## 5 2019  Jefferson County 1471098000       15021. ## 6 2020  Jefferson County 1483158000       14780. ## 7 2021  Jefferson County 1581097000       16485. ## 8 2022  Jefferson County 1987477000       21055. # Get data adjusted to 2022 dollars real_2022_data <- get_finance_data(yr = \"2015:2022\", geo = \"KY\", cpi_adj = 2022)  # View the same district with inflation-adjusted values real_2022_data |>   filter(dist_name == \"Jefferson County\") |>   select(year, dist_name, rev_total, rev_total_pp) ## # A tibble: 8 × 4 ##   year  dist_name          rev_total rev_total_pp ##   <chr> <chr>                  <dbl>        <dbl> ## 1 2015  Jefferson County 1517875324.       15088. ## 2 2016  Jefferson County 1544846270.       15329. ## 3 2017  Jefferson County 1546827044.       15497. ## 4 2018  Jefferson County 1655263268.       16754. ## 5 2019  Jefferson County 1638128758.       16727. ## 6 2020  Jefferson County 1626123061.       16205. ## 7 2021  Jefferson County 1694501365.       17667. ## 8 2022  Jefferson County 1987477000        21055."},{"path":"https://bellwetherorg.github.io/edfinr/articles/cpi-adjustments.html","id":"what-gets-adjusted","dir":"Articles","previous_headings":"","what":"What Gets Adjusted?","title":"Understanding CPI Adjustments in edfinr","text":"use cpi_adj, following variables automatically adjusted inflation: revenue variables (total, local, state, federal). expenditure variables. Median household income. Median property values. Variables adjusted include: - Enrollment counts. - Demographic percentages. - ratio percentage variables.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/cpi-adjustments.html","id":"working-with-the-cpi-index","dir":"Articles","previous_headings":"","what":"Working with the CPI Index","title":"Understanding CPI Adjustments in edfinr","text":"Every dataset includes cpi_sy12 column shows CPI index relative 2011-12 school year:","code":"# Examine the CPI index values cpi_values <- get_finance_data(yr = \"all\", geo = \"KY\") |>   select(year, cpi_sy12) |>   distinct() |>   arrange(year)  print(cpi_values) ## # A tibble: 11 × 2 ##    year  cpi_sy12 ##    <chr>    <dbl> ##  1 2012      1    ##  2 2013      1.02 ##  3 2014      1.03 ##  4 2015      1.04 ##  5 2016      1.05 ##  6 2017      1.07 ##  7 2018      1.09 ##  8 2019      1.11 ##  9 2020      1.13 ## 10 2021      1.16 ## 11 2022      1.24 # Calculate cumulative inflation since 2012 cpi_values |>   mutate(     inflation_since_2012 = (cpi_sy12 - 1) * 100,     inflation_label = paste0(round(inflation_since_2012, 1), \"%\")   ) ## # A tibble: 11 × 4 ##    year  cpi_sy12 inflation_since_2012 inflation_label ##    <chr>    <dbl>                <dbl> <chr>           ##  1 2012      1                    0    0%              ##  2 2013      1.02                 1.66 1.7%            ##  3 2014      1.03                 3.25 3.3%            ##  4 2015      1.04                 4.00 4%              ##  5 2016      1.05                 4.71 4.7%            ##  6 2017      1.07                 6.63 6.6%            ##  7 2018      1.09                 9.04 9%              ##  8 2019      1.11                11.3  11.3%           ##  9 2020      1.13                13.0  13%             ## 10 2021      1.16                15.6  15.6%           ## 11 2022      1.24                23.9  23.9%"},{"path":"https://bellwetherorg.github.io/edfinr/articles/cpi-adjustments.html","id":"practical-example-tracking-real-spending-over-time","dir":"Articles","previous_headings":"","what":"Practical Example: Tracking Real Spending Over Time","title":"Understanding CPI Adjustments in edfinr","text":"’s analyze whether education revenue kept pace inflation:","code":"# get multiyear data in nominal dollars ky_nominal <- get_finance_data(yr = \"all\", geo = \"KY\", cpi_adj = \"none\") |>    mutate(type = \"Nominal dollars\")  # get multi-year data adjusted to 2022 dollars ky_real <- get_finance_data(yr = \"all\", geo = \"KY\", cpi_adj = \"2022\") |>    mutate(type = \"Real 2022 dollars\")  # join data ky_data <- bind_rows(ky_nominal, ky_real)  # calculate statewide per-pupil revenue trends for real dollars rev_trends <- ky_data |>   group_by(type, year) |>   summarize(     rev_local = sum(rev_local, na.rm = TRUE),     rev_state = sum(rev_state, na.rm = TRUE),     rev_fed = sum(rev_fed, na.rm = TRUE),     enroll = sum(enroll, na.rm = TRUE)   ) |>    mutate(     rev_local_pp = rev_local / enroll,     rev_state_pp = rev_state / enroll,     rev_fed_pp = rev_fed / enroll   ) |>    select(type, year, rev_local_pp:rev_fed_pp) |>   pivot_longer(     cols = rev_local_pp:rev_fed_pp,     names_to = \"var\", values_to = \"val\") |>    mutate(     var = stringr::str_remove_all(var, \"rev_\"),     var = stringr::str_remove_all(var, \"_pp\"),     var = stringr::str_to_title(var),     var = str_replace_all(var, \"Fed\", \"Federal\")   )      # plot trends ggplot(rev_trends) +   geom_line(     aes(x = year, y = val, color = var, group = var)     ) +   facet_wrap(~type) +   scale_x_discrete(breaks = c(\"2012\", \"2014\", \"2016\", \"2018\", \"2020\", \"2022\")) +   scale_y_continuous(labels = scales::dollar) +   labs(     title = \"Comparing Nominal and Real Per-Pupil Revenue in Kentucky\",     subtitle = \"Statewide average per-pupil revenue by source, 2012-2022\",     x = \"Year\",     y = \"Per-Pupil Revenue\",     color = \"Revenue Source\"   ) +   theme_minimal()"},{"path":"https://bellwetherorg.github.io/edfinr/articles/cpi-adjustments.html","id":"choosing-a-base-year","dir":"Articles","previous_headings":"","what":"Choosing a Base Year","title":"Understanding CPI Adjustments in edfinr","text":"can adjust year 2012 2022. Common choices include: recent year (e.g., 2022): Shows values current dollar terms. First year analysis: Makes easy see percentage changes baseline. Midpoint year: Minimizes size adjustments across time series.","code":"# select ky district to assess district_sample <- \"Jefferson County\"  # get data with nominal dollars and cpi-adjusted for different base years nominal <- get_finance_data(yr = \"2012:2022\", geo = \"KY\") |>   filter(dist_name == district_sample) |>   select(year, rev_total_pp) |>   mutate(type = \"Nominal\")  adjusted_2012 <- get_finance_data(yr = \"2012:2022\", geo = \"KY\", cpi_adj = 2012) |>   filter(dist_name == district_sample) |>   select(year, rev_total_pp) |>   mutate(type = \"2012 Dollars\")  adjusted_2022 <- get_finance_data(yr = \"2012:2022\", geo = \"KY\", cpi_adj = 2022) |>   filter(dist_name == district_sample) |>   select(year, rev_total_pp) |>   mutate(type = \"2022 Dollars\")  # join and plot data bind_rows(nominal, adjusted_2012, adjusted_2022) |>   ggplot(aes(x = year, y = rev_total_pp, color = type, group = type)) +   geom_line(size = 1.2) +   scale_y_continuous(labels = scales::dollar) +   labs(     title = paste(\"Per-Pupil Revenue:\", district_sample),     x = \"Year\",     y = \"Revenue per Pupil\",     color = \"CPI Adjustment\"   ) +   theme_minimal()"},{"path":"https://bellwetherorg.github.io/edfinr/articles/cpi-adjustments.html","id":"best-practices","dir":"Articles","previous_headings":"","what":"Best Practices","title":"Understanding CPI Adjustments in edfinr","text":"Always use inflation adjustment multi-year analyses: Comparing nominal dollars across years can misleading. consistent base year: Use cpi_adj value data analysis. Document choice: Always note whether values nominal real, base year used. Consider audience: Current dollars (recent year) often intuitive general audiences.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/cpi-adjustments.html","id":"technical-notes","dir":"Articles","previous_headings":"","what":"Technical Notes","title":"Understanding CPI Adjustments in edfinr","text":"CPI data comes U.S. Bureau Labor Statistics CPI-U series. School year alignment ensures index matches academic calendar. adjustments applied per-pupil calculations. cpi_sy12 column always included regardless adjustment choice .","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/data-sources-methods.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Data Sources and Methodology","text":"vignette provides detailed information data sources processing methods used prepare data used edfinr package. Understanding details help interpret data appropriately inform analytical decisions.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/data-sources-methods.html","id":"data-sources","dir":"Articles","previous_headings":"","what":"Data Sources","title":"Data Sources and Methodology","text":"package provides access education finance data : NCES CCD F-33 Data. NCES CCD Directory Data via Urban Institute’s educationdata package. Census Bureau SAIPE Estimates American Community Survey 5-Year Estimates via tidycensus package. U.S Bureau Labor Statistics Consumer Price Index Urban Consumers (CPI-U).","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/data-sources-methods.html","id":"data-processing-methods","dir":"Articles","previous_headings":"","what":"Data Processing Methods","title":"Data Sources and Methodology","text":"Methodology based process used edbuildr, detailed methodology page workshop documentation. EdFund Data Dictionary informs handling F-33 data. Revenue adjustments payments school systems follows approach used Kristen Blagg, Emily Gutierrez, Fanny Terrones Funding Flows: Students Receive Greater Share School Funding? Inflation adjustments use average second half CPI-U one year first half CPI-U following year align academic calendar.","code":""},{"path":[]},{"path":"https://bellwetherorg.github.io/edfinr/articles/data-sources-methods.html","id":"nces-f-33-survey-data","dir":"Articles","previous_headings":"Data Processing Detail","what":"NCES F-33 Survey Data","title":"Data Sources and Methodology","text":"Data source: NCES Common Core Data text files F-33 data 2011-12 2021-22. Raw variables selected: Basic information: state, leaid, name, yrdata, V33. Revenue data: totalrev, tlocrev, tstrev, tfedrev. Expenditure data: c11, u11, v91, v92, c24, l12, m12, d11, q11. Current expenditure data: ce1, ce2, ce3. Detailed expenditure data: z32, z34, v93, v95, v02, k14, e13, z33, v10, e17, v11, v12, e07, v13, v14, e08, v15, v16, e09, v17, v18, v40, v21, v22, v45, v23, v24, v90, v37, v38, e11, v29, v30, v60, v32, v65, ae1, ae2, ae3, ae4, ae5, ae6, ae7, ae8. Adjustments: Rename variables. Convert district names title case. Ensure enrollment numeric variable. Replace -1 -2 codes NA values.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/data-sources-methods.html","id":"ccd-directory-data","dir":"Articles","previous_headings":"Data Processing Detail","what":"CCD Directory Data","title":"Data Sources and Methodology","text":"Data source: NCES CCD Directory data obtained via educationdata package. Raw variables selected: Core district identifiers location: state, ncesid, county, dist_name, state_leaid. Institutional details: lea_type, lea_type_id, urbanicity, congressional_dist. Adjustments: Rename variables intuitive names.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/data-sources-methods.html","id":"saipe-poverty-estimates","dir":"Articles","previous_headings":"Data Processing Detail","what":"SAIPE Poverty Estimates","title":"Data Sources and Methodology","text":"Data source: Census Bureau SAIPE Estimates. Raw variables selected: Basic geographic demographic fields: State Postal Code, State FIPS Code, District ID, Name Population estimates: Estimated Total Population, Estimated Population ages 5-17, estimated number relevant children ages 5 17 living poverty Adjustments: Convert population fields numeric Construct combined NCES district identifier concatenating state FIPS District ID","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/data-sources-methods.html","id":"acs-5-year-estimates","dir":"Articles","previous_headings":"Data Processing Detail","what":"ACS 5-Year Estimates","title":"Data Sources and Methodology","text":"Data source: American Community Survey 5-Year Estimates accessed via tidycensus package. Raw variables selected: Economic indicators: Median household income (B19013_001) median property value (B25077_001). Educational attainment: Total population 25 years older (B15003_001) subsets population holding bachelor’s degrees (B15003_022), master’s degrees (B15003_023), professional degrees (B15003_024), doctoral degrees (B15003_025). Data pulled different geographic breakdowns (unified, elementary, secondary school districts). Adjustments: Reshape data long wide format. Rename “GEOID” standard ncesid ensure proper formatting district identifiers. Convert estimates numeric needed.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/data-sources-methods.html","id":"cpi","dir":"Articles","previous_headings":"Data Processing Detail","what":"CPI","title":"Data Sources and Methodology","text":"Data source: U.S. Bureau Labor Statistics, specifically Consumer Price Index Urban Consumers (CPI-U). Raw variables selected: CPI time series data (specific variable names provided raw file). Adjustments: Calculate averaged CPI value using second half one year first half following year align academic calendar, 2011-12 school year baseline year. Clean reformat CPI data consistency across processing scripts.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/data-sources-methods.html","id":"joining-data","dir":"Articles","previous_headings":"","what":"Joining Data","title":"Data Sources and Methodology","text":"joining process implemented 07_edfinr_join_and_exclude.R script. Data F-33 survey, CCD Directory, ACS (unified, elementary, secondary), SAIPE sources merged using left joins shared district identifiers (ncesid) fiscal year. procedure ensures district record enriched revenue, expenditure, demographic, economic data.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/data-sources-methods.html","id":"revenue-adjustments","dir":"Articles","previous_headings":"","what":"Revenue Adjustments","title":"Data Sources and Methodology","text":"Additional transformations applied join: - Capital expenditures debt service (C11) subtrated state revenues. - Property sales (U11) subtracted local revenues. - Texas local education agencies (LEAs) school year 2012-13 earlier, payments state governments (L12) subtracted local revenues. - Payments school systems (V91, V92, Q11) proportionally subracted local, state, federal revenues.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/data-sources-methods.html","id":"exclusions","dir":"Articles","previous_headings":"","what":"Exclusions","title":"Data Sources and Methodology","text":"Districts enrollment less 0 removed. Districts total revenue less 0 removed. Districts invalid LEA type (.e. lea_type_id one 1, 2, 3, 7) excluded. Districts invalid LEA/school level type (.e. schlev one “01”, “02”, “03”, except specified CA exceptions) excluded. Districts total revenue per-pupil greater $70,000 school year 2011-12 dollars excluded. Districts total revenue per pupil less $500 school year 2011-12 dollars excluded. Connecticut LEAs consisting semi-private high schools removed (NCES IDs “0905371”, “0905372”, “0905373”).","code":""},{"path":"https://bellwetherorg.github.io/edfinr/articles/data-sources-methods.html","id":"data-notes-and-cautions","dir":"Articles","previous_headings":"","what":"Data Notes and Cautions","title":"Data Sources and Methodology","text":"Users note following working edfinr datasets: variables originally coded -1 indicate missing values; replaced NA processing. data processing, identified sharp rise number California districts appearing 2019 onward data. reflects fact many charter schools became separate LEAs years. Beginning school year 2018–19, wave California charter schools switched independent CALPADS/CBEDS reporting thus assigned NCES LEA IDs first time. NCES LEA universe, new charter‐LEAs automatically show F-33 finance survey (blanks flags report finance data), Census’s SAIPE ACS school‐district products (mirror NCES LEA boundaries). joined dataset represents synthesis data multiple sources; discrepancies source data formats may lead minor variations. Inflation adjustment factors (e.g., CPI adjustments) based averages may perfectly reflect local cost variations. Caution advised comparing data across fiscal years due potential differences data collection processing methods.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Alex Spurrier. Author, maintainer. Krista Kaput. Author. Michael Chrzan. Contributor. Bellwether. Copyright holder.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Spurrier , Kaput K (2025). edfinr: Access Bellwether's Tidy Education Finance Data. R package version 0.1.0, https://github.com/bellwetherorg/edfinr.","code":"@Manual{,   title = {edfinr: Access Bellwether's Tidy Education Finance Data},   author = {Alex Spurrier and Krista Kaput},   year = {2025},   note = {R package version 0.1.0},   url = {https://github.com/bellwetherorg/edfinr}, }"},{"path":"https://bellwetherorg.github.io/edfinr/index.html","id":"edfinr","dir":"","previous_headings":"","what":"Access Bellwether's Tidy Education Finance Data","title":"Access Bellwether's Tidy Education Finance Data","text":"edfinr Bellwether R package downloading analyzing education finance data. includes cleaned data U.S. Census Bureau’s Annual Survey School System Finances along data surveys administered National Center Education Statistics (NCES) U.S Census Bureau. can install development version edfinr GitHub : learn use edfinr analyze school system revenues expenditures, please refer following articles: Basic use CPI adjustments Data sources methodology","code":"pak::pkg_install(\"bellwetherorg/edfinr\")"},{"path":"https://bellwetherorg.github.io/edfinr/index.html","id":"data-notes-and-cautions","dir":"","previous_headings":"","what":"Data Notes and Cautions","title":"Access Bellwether's Tidy Education Finance Data","text":"Users note following working edfinr datasets: variables originally coded -1 indicate missing values; replaced NA processing. data processing, identified sharp rise number California districts appearing 2019 onward data. reflects fact many charter schools became separate local education agencies (LEAs) years. Beginning school year 2018–19, wave California charter schools switched independent CALPADS/CBEDS reporting thus assigned NCES LEA IDs first time. NCES LEA universe, new charter‐LEAs automatically show F-33 finance survey (blanks flags report finance data), Census SAIPE ACS school‐district products (mirror NCES LEA boundaries). joined dataset represents synthesis data multiple sources; discrepancies source data formats may lead minor variations. Inflation adjustment factors (e.g., CPI adjustments) based averages may perfectly reflect local cost variations. Caution advised comparing data across fiscal years due potential differences data collection processing methods.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/index.html","id":"authors","dir":"","previous_headings":"","what":"Authors","title":"Access Bellwether's Tidy Education Finance Data","text":"Alex Spurrier (alex.spurrier@bellwether.org) - lead developer package maintainer Krista Kaput - core development feature implementation Michael Chrzan - data processing functions testing","code":""},{"path":"https://bellwetherorg.github.io/edfinr/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Access Bellwether's Tidy Education Finance Data","text":"MIT License","code":""},{"path":"https://bellwetherorg.github.io/edfinr/reference/cache_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache file path — cache_file","title":"Get cache file path — cache_file","text":"Get cache file path","code":""},{"path":"https://bellwetherorg.github.io/edfinr/reference/cache_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache file path — cache_file","text":"","code":"cache_file(name)"},{"path":"https://bellwetherorg.github.io/edfinr/reference/cache_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get cache file path — cache_file","text":"name Name cache file","code":""},{"path":"https://bellwetherorg.github.io/edfinr/reference/cache_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache file path — cache_file","text":"Full path cache file","code":""},{"path":"https://bellwetherorg.github.io/edfinr/reference/cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Set up local cache directory for the package — cache_path","title":"Set up local cache directory for the package — cache_path","text":"Set local cache directory package","code":""},{"path":"https://bellwetherorg.github.io/edfinr/reference/cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set up local cache directory for the package — cache_path","text":"","code":"cache_path()"},{"path":"https://bellwetherorg.github.io/edfinr/reference/cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set up local cache directory for the package — cache_path","text":"Path cache directory","code":""},{"path":"https://bellwetherorg.github.io/edfinr/reference/get_finance_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Education Finance Data — get_finance_data","title":"Get Education Finance Data — get_finance_data","text":"function downloads tidy education finance data using data NCES F-33 Survey, Census Bureau Small Area Income Poverty Estimates (SAIPE), community data ACS 5-Year Estimates.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/reference/get_finance_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Education Finance Data — get_finance_data","text":"","code":"get_finance_data(   yr = \"2022\",   geo = \"all\",   dataset_type = \"skinny\",   cpi_adj = \"none\",   refresh = FALSE,   quiet = FALSE )"},{"path":"https://bellwetherorg.github.io/edfinr/reference/get_finance_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Education Finance Data — get_finance_data","text":"yr string specifying year(s) retrieve. Can single year (\"2022\"), range (\"2020:2022\"), \"\" available years. Defaults \"2022\". geo string specifying geographic scope. Can \"\" states (default), single state code (\"KY\"), comma-separated list state codes (\",KY,OH,TN\"). dataset_type string specifying whether download \"skinny\" (default) \"full\" dataset. skinny version excludes detailed expenditure data faster downloads. cpi_adj string specifying CPI adjustment baseline year. Can \"none\" (default) adjustment, year 2012-2022 use baseline year. year specified (e.g., \"2022\"), revenue, expenditure, economic variables adjusted school year's dollars using CPI averaged months school year (e.g., \"2022\" uses 2021-22 school year CPI). cpi_adj set value \"none\", new column \"cpi_adj_index\" added output showing adjustment index used row. refresh logical value indicating whether force refresh cached data. Default FALSE. quiet logical value indicating whether suppress download progress messages. Default FALSE. Note: Cache stored R's temporary directory cleared R session ends.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/reference/get_finance_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Education Finance Data — get_finance_data","text":"tibble containing requested education finance data.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/reference/get_finance_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Education Finance Data — get_finance_data","text":"","code":"# Check valid parameters without downloading get_states()  # Valid state codes #>  [1] \"AL\" \"AK\" \"AZ\" \"AR\" \"CA\" \"CO\" \"CT\" \"DE\" \"FL\" \"GA\" \"HI\" \"ID\" \"IL\" \"IN\" \"IA\" #> [16] \"KS\" \"KY\" \"LA\" \"ME\" \"MD\" \"MA\" \"MI\" \"MN\" \"MS\" \"MO\" \"MT\" \"NE\" \"NV\" \"NH\" \"NJ\" #> [31] \"NM\" \"NY\" \"NC\" \"ND\" \"OH\" \"OK\" \"OR\" \"PA\" \"RI\" \"SC\" \"SD\" \"TN\" \"TX\" \"UT\" \"VT\" #> [46] \"VA\" \"WA\" \"WV\" \"WI\" \"WY\" \"DC\"  # \\donttest{ # These examples require internet access and may take time to download  # get data for Kentucky for 2022 ky_data <- get_finance_data(yr = \"2022\", geo = \"KY\") #> ℹ Downloading education finance data... #> ✔ Download complete.  # get data for multiple years ky_multi <- get_finance_data(yr = \"2020:2022\", geo = \"KY\") #> ℹ Using cached data. Use refresh = TRUE to download fresh data.  # get full dataset with detailed expenditure data ky_full <- get_finance_data(yr = \"2022\", geo = \"KY\", dataset_type = \"full\") #> ℹ Downloading education finance data... #> ✔ Download complete.    # get data adjusted to 2022 dollars ky_adjusted <- get_finance_data(yr = \"2020:2022\", geo = \"KY\", cpi_adj = \"2022\") #> ℹ Using cached data. Use refresh = TRUE to download fresh data.  #' # get data for multiple states for all available years regional_data <- get_finance_data(yr = \"all\", geo = \"IN,KY,OH,TN\") #> ℹ Using cached data. Use refresh = TRUE to download fresh data. # }"},{"path":"https://bellwetherorg.github.io/edfinr/reference/get_states.html","id":null,"dir":"Reference","previous_headings":"","what":"Get list of valid state codes — get_states","title":"Get list of valid state codes — get_states","text":"Returns valid two-letter state codes can used get_finance_data","code":""},{"path":"https://bellwetherorg.github.io/edfinr/reference/get_states.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get list of valid state codes — get_states","text":"","code":"get_states()"},{"path":"https://bellwetherorg.github.io/edfinr/reference/get_states.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get list of valid state codes — get_states","text":"character vector state codes","code":""},{"path":"https://bellwetherorg.github.io/edfinr/reference/get_states.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get list of valid state codes — get_states","text":"","code":"# Get all valid state codes states <- get_states() head(states) #> [1] \"AL\" \"AK\" \"AZ\" \"AR\" \"CA\" \"CO\""},{"path":"https://bellwetherorg.github.io/edfinr/reference/is_cache_current.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if a cached file exists and is recent — is_cache_current","title":"Check if a cached file exists and is recent — is_cache_current","text":"Check cached file exists recent","code":""},{"path":"https://bellwetherorg.github.io/edfinr/reference/is_cache_current.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if a cached file exists and is recent — is_cache_current","text":"","code":"is_cache_current(name, max_age = 30)"},{"path":"https://bellwetherorg.github.io/edfinr/reference/is_cache_current.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if a cached file exists and is recent — is_cache_current","text":"name Name cache file max_age Maximum age days","code":""},{"path":"https://bellwetherorg.github.io/edfinr/reference/is_cache_current.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if a cached file exists and is recent — is_cache_current","text":"TRUE cache file exists recent, FALSE otherwise","code":""},{"path":"https://bellwetherorg.github.io/edfinr/reference/list_variables.html","id":null,"dir":"Reference","previous_headings":"","what":"List available variables in the education finance dataset — list_variables","title":"List available variables in the education finance dataset — list_variables","text":"function provides information variables available education finance dataset, including names, types, brief descriptions.","code":""},{"path":"https://bellwetherorg.github.io/edfinr/reference/list_variables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List available variables in the education finance dataset — list_variables","text":"","code":"list_variables(dataset_type = \"skinny\", category = \"all\")"},{"path":"https://bellwetherorg.github.io/edfinr/reference/list_variables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List available variables in the education finance dataset — list_variables","text":"dataset_type string specifying whether list variables \"skinny\" (default) \"full\" dataset. category Optional. Filter variables category: \"id\", \"time\", \"geographic\", \"demographic\", \"revenue\", \"expenditure\", \"economic\", \"governance\", \"\" (default).","code":""},{"path":"https://bellwetherorg.github.io/edfinr/reference/list_variables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List available variables in the education finance dataset — list_variables","text":"tibble variable information","code":""},{"path":"https://bellwetherorg.github.io/edfinr/reference/list_variables.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List available variables in the education finance dataset — list_variables","text":"","code":"# list all available variables in skinny dataset vars <- list_variables() head(vars) #> # A tibble: 6 × 6 #>   name         type      category    source           first_yr_avail description #>   <chr>        <chr>     <chr>       <chr>            <chr>          <chr>       #> 1 ncesid       character id          NCES F-33 Survey 2012           NCES distr… #> 2 year         integer   time        NCES F-33 Survey 2012           School yea… #> 3 state        character geographic  NCES F-33 Survey 2012           State abbr… #> 4 dist_name    character id          NCES F-33 Survey 2012           District n… #> 5 enroll       numeric   demographic NCES F-33 Survey 2012           Total dist… #> 6 rev_total_pp numeric   revenue     NCES F-33 Survey 2012           Total adju…  # list all variables in full dataset full_vars <- list_variables(dataset_type = \"full\") nrow(full_vars) #> [1] 89  # list only expenditure variables in full dataset exp_vars <- list_variables(dataset_type = \"full\", category = \"expenditure\") head(exp_vars) #> # A tibble: 6 × 6 #>   name            type    category    source          first_yr_avail description #>   <chr>           <chr>   <chr>       <chr>           <chr>          <chr>       #> 1 exp_cur_pp      numeric expenditure NCES F-33 Surv… 2016           Current ex… #> 2 rev_exp_pp_diff numeric expenditure NCES F-33 Surv… 2016           Revenue mi… #> 3 exp_cur_st_loc  numeric expenditure NCES F-33 Surv… 2016           Current ex… #> 4 exp_cur_fed     numeric expenditure NCES F-33 Surv… 2016           Current ex… #> 5 exp_cur_resa    numeric expenditure NCES F-33 Surv… 2018           Current ex… #> 6 exp_cur_total   numeric expenditure NCES F-33 Surv… 2016           Total curr…"},{"path":"https://bellwetherorg.github.io/edfinr/news/index.html","id":"edfinr-010","dir":"Changelog","previous_headings":"","what":"edfinr 0.1.0","title":"edfinr 0.1.0","text":"Initial CRAN submission.","code":""}]
